mode七种模式

**mode=0 : 可实现网络负载均衡和网络冗余，采用平衡轮循策略(balance-rr)，此模式特点**   
- 所以网卡都工作，传输数据包顺序是依次传输，也就是说第1个包经过eth0，下一个包就经过eth1，一直循环下去，直到最后一个包传输完毕
- 此模式对于同一连接从不同的接口发出的包，中途传输过程中再经过不同的链接，在客户端很有可能会出现数据包无序到达的问题，而无序到达的数据包需要重新要求被发送，这样网络的吞吐量就会下降。
- 与网卡相连的交换必须做特殊配置（ 这两个端口应该采取聚合方式），因为做bonding的这两块网卡是使用同一个MAC地址

**mode=1：只实现网络冗余，采用主-备份策略(active/backup)，此模式特点**  
- 此模式下只有一块网卡正常工作，另外的网卡都是备份用状态，当另外一块网卡坏掉后另一块网卡马上由备份转换为主
- 此模式好处是可以提供高网络连接的可用性，但是它的资源利用率较低，只有一个接口处于工作状态  

**mode=2：可模式提供负载平衡和容错能力，采用平衡策略(balance-xor)，此模式特点**  
- 基于指定的传输HASH策略传输数据包，这种模式用得相对少  

**mode=3：只提供容错能力，采用广播策略，此模式特点**  
- 在每个slave接口上传输每个数据包

**mode=4：IEEE 802.3ad 动态链接聚合，使用lagp协议，可以带宽翻倍增加，此模式特点**
- 创建一个聚合组，它们共享同样的速率和双工设定。根据802.3ad规范将多个slave工作在同一个激活的聚合体下。
- 外出流量的slave选举是基于传输hash策略，该策略可以通过xmit_hash_policy选项从缺省的XOR策略改变到其他策略

> 用此模式必要条件：
> 条件1：ethtool支持获取每个slave的速率和双工设定
> 条件2：switch(交换机)支持IEEE 802.3ad Dynamic link aggregation
> 条件3：大多数switch(交换机)需要经过特定配置才能支持802.3ad模式  

**mode=5：采用适配器传输负载均衡(balance-tlb)，此模式特点**
- 不需要任何特别的switch(交换机)支持的通道bonding
- 在每个slave上根据当前的负载（根据速度计算）分配外出流量
- 如果正在接受数据的slave出故障了，另一个slave接管失败的slave的MAC地址  

> 必要条件: ethtool支持获取每个slave的速率  

**mode=6：可实现网络负载均衡和网络冗余,采用load balancing (round-robin)方式，此模式特点**  
- 两块网卡都处于工作状态，但各网卡的MAC地址是不一样
- 该模式下无需配置交换机，因为做bonding的这两块网卡是使用不同的MAC地址  

总结，生产中常用的是0，1，6，4模式，简单的负载均衡可以采用mode=0 or mode=6
